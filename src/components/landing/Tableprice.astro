---
// src/pages/pricing.astro
import i18next from "../../i18n";

const currentLang = i18next.language;
const baseUrl = currentLang === "en" ? "/en" : "/vi";
---

<section class="py-16 md:py-20">
  <div class="max-w-[1600px] mx-auto px-4 lg:px-6">
    <!-- Grid CHUNG (1 cột trên mobile, 5 cột trên desktop/tablet) -->
    <div class="grid grid-cols-1 md:grid-cols-5 gap-6 md:gap-4">
      <!-- ===================================== GÓI 1: DÙNG THỬ (P1) ===================================== -->
      <div
        class="bg-gradient-to-br from-gray-300 via-white to-gray-400 border-base-200 rounded-2xl shadow-md p-4 border-2 relative hover:shadow-lg transition flex flex-col md:order-1"
      >
        <div class="flex-1">
          <h3 class="text-lg font-bold text-black mb-2">{i18next.t('pricing.plans.trial.name')}</h3>
          <p class="text-sm mb-4 text-black text-left opacity-80">
            {i18next.t('pricing.plans.trial.description')}
          </p>
          <div class="text-3xl font-bold text-black mb-1 mt-4">{i18next.t('pricing.plans.trial.price')}</div>
        </div>
        <a
          href={baseUrl + "/checkout"}
          class="block text-center bg-black text-white font-semibold rounded-lg py-2 hover:bg-green-400 transition mt-4 shadow-sm"
        >
          {i18next.t('pricing.plans.buttons.buy_now')}
        </a>
      </div>

      <!-- ===================================== TÍNH NĂNG 1: DÙNG THỬ (F1) ===================================== -->
      <div
        class="bg-white rounded-2xl shadow-inner p-8 border-2 border-gray-200 flex flex-col text-black text-base md:order-6"
      >
        <h4 class="font-bold text-gray-800 mb-4 border-b pb-2">
          {i18next.t('pricing.plans.trial.details_title')}
        </h4>
        <ul class="space-y-2 text-left text-gray-700">
          <li class="mb-2">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.trial.features.0')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.trial.features.1')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.trial.features.2')}
          </li>

          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.trial.features.3')}
          </li>
          <li class="mb-8">
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.trial.features.4')}
          </li>
          <li>
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.trial.features.5')}
          </li>
          <li>
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.trial.features.6')}
          </li>
          <li class="mb-8">
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.trial.features.7')}
          </li>
          <li>
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.trial.features.8')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.trial.features.9')}
          </li>
          <li>
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.trial.features.10')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.trial.features.11')}
          </li>
        </ul>
      </div>

      <!-- ===================================== GÓI 2: KHỞI ĐẦU (P2) ===================================== -->
      <div
        class="bg-white rounded-2xl shadow-md p-4 border-2 border-green-500 relative hover:shadow-lg transition flex flex-col md:order-2"
      >
        <div class="flex-1">
          <h3 class="text-lg font-bold text-green-600 mb-2">{i18next.t('pricing.plans.startup.name')}</h3>
          <p class="text-sm mb-4 text-gray-600 text-left">
            {i18next.t('pricing.plans.startup.description')}
          </p>
          <div class="text-3xl font-bold text-gray-900 mb-1 mt-4">{i18next.t('pricing.plans.startup.price')}</div>
          <div class="text-gray-600 text-left">{i18next.t('pricing.plans.startup.unit')}</div>
        </div>
        <a
          href={baseUrl + "/checkout"}
          class="block text-center bg-black text-white font-semibold rounded-lg py-2 hover:bg-green-400 transition mt-4 shadow-sm"
        >
          {i18next.t('pricing.plans.buttons.buy_now')}
        </a>
      </div>

      <!-- ===================================== TÍNH NĂNG 2: KHỞI ĐẦU (F2) ===================================== -->
      <div
        class="bg-white rounded-2xl shadow-inner p-8 border-2 border-gray-200 flex flex-col text-black text-base md:order-7"
      >
        <h4 class="font-bold text-gray-800 mb-4 border-b pb-2">
          {i18next.t('pricing.plans.startup.details_title')}
        </h4>
        <ul class="space-y-2 text-left text-gray-700">
          <li><span class="text-green-500">✔</span> {i18next.t('pricing.plans.startup.features.0')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.startup.features.1')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.startup.features.2')}
          </li>

          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.startup.features.3')}
          </li>
          <li class="mb-8">
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.startup.features.4')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.startup.features.5')}
          </li>
          <li>
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.startup.features.6')}
          </li>
          <li class="mb-8">
            <span class="text-red-500">✘</span> {i18next.t('pricing.plans.startup.features.7')}
          </li>
          <li><span class="text-red-500">✘</span> {i18next.t('pricing.plans.startup.features.8')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.startup.features.9')}
          </li>
          <li><span class="text-green-500">✔</span> {i18next.t('pricing.plans.startup.features.10')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.startup.features.11')}
          </li>
        </ul>
      </div>

      <!-- ===================================== GÓI 3: CHUYÊN NGHIỆP (P3) ===================================== -->
      <div
        class="bg-gradient-to-br from-black to-green-800 rounded-2xl shadow-lg p-4 border-2 border-white relative hover:shadow-xl transition overflow-hidden flex flex-col md:order-3"
      >
        <div class="flex-1">
          <h3 class="text-lg font-bold text-white mb-2">{i18next.t('pricing.plans.pro.name')}</h3>
          <p class="text-sm mb-4 text-white text-left opacity-90">
            {i18next.t('pricing.plans.pro.description')}
          </p>
          <div class="text-3xl font-bold text-white mb-1 mt-4">{i18next.t('pricing.plans.pro.price')}</div>
          <div class="text-white text-left">{i18next.t('pricing.plans.pro.unit')}</div>
        </div>
        <a
          href={baseUrl + "/checkout"}
          class="block text-center bg-green-600 text-white font-semibold rounded-lg py-2 hover:bg-blue-700 transition mt-4 shadow-md"
        >
          {i18next.t('pricing.plans.buttons.buy_now')}
        </a>
      </div>

      <!-- ===================================== TÍNH NĂNG 3: CHUYÊN NGHIỆP (F3) ===================================== -->
      <div
        class="bg-white rounded-2xl shadow-inner p-8 border-2 border-gray-200 flex flex-col text-black text-base md:order-8"
      >
        <h4 class="font-bold text-gray-800 mb-4 border-b pb-2">
          {i18next.t('pricing.plans.pro.details_title')}
        </h4>
        <ul class="space-y-2 text-left text-gray-700">
          <li><span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.0')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.1')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.2')}
          </li>

          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.3')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.4')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.5')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.6')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.7')}
          </li>
          <li><span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.8')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.9')}
          </li>
          <li><span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.10')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.pro.features.11')}
          </li>
        </ul>
      </div>

      <!-- ===================================== GÓI 4: MỞ RỘNG (P4) ===================================== -->
      <div
        class="bg-gradient-to-br from-white to-blue-400 rounded-2xl shadow-lg p-4 border-2 border-blue-900 relative hover:shadow-xl transition overflow-hidden flex flex-col md:order-4"
      >
        <span
          class="absolute top-0 right-0 bg-blue-900 text-white text-xs font-semibold px-3 py-1 rounded-bl-lg"
        >
          {i18next.t('pricing.plans.scale.badge')}
        </span>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-blue-900 mb-2">{i18next.t('pricing.plans.scale.name')}</h3>
          <p class="text-sm mb-4 text-black text-left">
            {i18next.t('pricing.plans.scale.description')}
          </p>
          <div class="text-3xl font-bold text-gray-900 mb-1 mt-4">
            {i18next.t('pricing.plans.scale.price')}
          </div>
          <div class="text-gray-600 text-left">{i18next.t('pricing.plans.scale.unit')}</div>
        </div>
        <a
          href={baseUrl + "/checkout"}
          class="block text-center bg-blue-600 text-white font-semibold rounded-lg py-2 hover:bg-blue-700 transition mt-4 shadow-md"
        >
          {i18next.t('pricing.plans.buttons.buy_now')}
        </a>
      </div>

      <!-- ===================================== TÍNH NĂNG 4: MỞ RỘNG (F4) ===================================== -->
      <div
        class="bg-white rounded-2xl shadow-inner p-8 border-2 border-gray-200 flex flex-col text-black text-base md:order-9"
      >
        <h4 class="font-bold text-gray-800 mb-4 border-b pb-2">
          {i18next.t('pricing.plans.scale.details_title')}
        </h4>
        <ul class="space-y-2 text-left text-gray-700">
          <li><span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.0')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.1')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.2')}
          </li>

          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.3')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.4')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.5')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.6')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.7')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.8')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.9')}
          </li>
          <li><span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.10')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.scale.features.11')}
          </li>
        </ul>
      </div>

      <!-- ===================================== GÓI 5: DOANH NGHIỆP LỚN (P5) ===================================== -->
      <div
        class="bg-gradient-to-b from-orange-200 to-white rounded-2xl shadow-lg p-4 border-2 border-orange-500 relative hover:shadow-xl transition overflow-hidden flex flex-col md:order-5"
      >
        <div class="flex-1">
          <h3 class="text-lg font-bold text-orange-600 mb-2">
            {i18next.t('pricing.plans.enterprise.name')}
          </h3>
          <p class="text-sm mb-4 text-black text-left">
            {i18next.t('pricing.plans.enterprise.description')}
          </p>
          <div class="text-3xl font-bold text-black mb-1 mt-4">{i18next.t('pricing.plans.enterprise.price')}</div>
        </div>
        <a
          href={baseUrl + "/checkout"}
          class="block text-center bg-orange-600 text-white font-semibold rounded-lg py-2 hover:bg-blue-700 transition mt-4 shadow-md"
        >
          {i18next.t('pricing.plans.buttons.contact_now')}
        </a>
      </div>

      <!-- ===================================== TÍNH NĂNG 5: DOANH NGHIỆP LỚN (F5) ===================================== -->
      <div
        class="bg-white rounded-2xl shadow-inner p-8 border-2 border-gray-200 flex flex-col text-black text-base md:order-10"
      >
        <h4 class="font-bold text-gray-800 mb-4 border-b pb-2">
          {i18next.t('pricing.plans.enterprise.details_title')}
        </h4>
        <ul class="space-y-2 text-left text-gray-700">
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.0')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.1')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.2')}
          </li>

          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.3')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.4')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.5')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.6')}
          </li>
          <li class="mb-8">
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.7')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.8')}
          </li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.9')}
          </li>
          <li><span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.10')}</li>
          <li>
            <span class="text-green-500">✔</span> {i18next.t('pricing.plans.enterprise.features.11')}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <p style="text-align: center; margin-bottom: 60px;margin-top: 60px;">
    <a
      href={baseUrl + "/"}
      style="font-weight: bold; font-size: 40px; text-decoration: underline; text-decoration-color: purple; color: inherit;"
    >
      {i18next.t('pricing.comparison.title')}
    </a>
  </p>
  <!-- Bảng sản phẩm -->
  <div class="rounded-xl overflow-hidden border border-gray-300">
    <div class="overflow-x-auto">
      <table class="min-w-full text-left border-collapse">
        <thead class="bg-gray-100 text-gray-700">
          <tr>
            <th class="px-4 py-3 rounded-tl-xl">#</th>
            <th class="px-4 py-3">{i18next.t('pricing.comparison.headers.feature')}</th>
            <th class="px-4 py-3">{i18next.t('pricing.comparison.headers.detail')}</th>
            <th class="px-4 py-3 rounded-tr-xl"
              >{i18next.t('pricing.comparison.headers.diff')}</th
            >
          </tr>
        </thead>
        <tbody class="divide-y">
          <tr>
            <td class="px-4 py-4 font-semibold">1</td>
            <td class="px-4 py-4">{i18next.t('pricing.comparison.rows.0.feature')}</td>
            <td class="px-4 py-4" set:html={i18next.t('pricing.comparison.rows.0.detail')} />
            <td class="px-4 py-4" set:html={i18next.t('pricing.comparison.rows.0.diff')} />
          </tr>
          <tr>
            <td class="px-4 py-4 font-semibold">2</td>
            <td class="px-4 py-4">{i18next.t('pricing.comparison.rows.1.feature')}</td>
            <td class="px-4 py-4" set:html={i18next.t('pricing.comparison.rows.1.detail')} />
            <td class="px-4 py-4" set:html={i18next.t('pricing.comparison.rows.1.diff')} />
          </tr>
          <tr>
            <td class="px-4 py-4 font-semibold">3</td>
            <td class="px-4 py-4">{i18next.t('pricing.comparison.rows.2.feature')}</td>
            <td class="px-4 py-4" set:html={i18next.t('pricing.comparison.rows.2.detail')} />
            <td class="px-4 py-4" set:html={i18next.t('pricing.comparison.rows.2.diff')} />
          </tr>
          <tr>
            <td class="px-4 py-4 font-semibold">4</td>
            <td class="px-4 py-4"
              >{i18next.t('pricing.comparison.rows.3.feature')}</td
            >
            <td class="px-4 py-4" set:html={i18next.t('pricing.comparison.rows.3.detail')} />
            <td class="px-4 py-4 rounded-b-xl" set:html={i18next.t('pricing.comparison.rows.3.diff')} />
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div
    class="mt-16 sm:mt-24 relative bg-zinc-900 text-white rounded-3xl overflow-visible text-center"
  >
    <div
      aria-hidden="true"
      class="absolute inset-x-0 top-1/2 -translate-y-1/2 h-64 bg-gradient-to-r from-rose-500 via-violet-500 to-sky-500 blur-3xl"
    >
    </div>

    <div
      class="mt-16 sm:mt-24 rounded-3xl p-px bg-gradient-to-br from-gray-700 via-gray-900 to-gray-900
              transition-transform duration-300 hover:scale-105 group"
    >
      <div
        class="relative bg-zinc-900 text-white rounded-[23px] overflow-visible text-center"
      >
        <div
          aria-hidden="true"
          class="absolute inset-0 bg-gradient-to-r from-gray-500/20 to-transparent blur-3xl opacity-50
                                    transition-opacity duration-300 group-hover:opacity-100 -z-10"
        >
        </div>

        <div class="relative z-10 py-16 lg:py-20 px-6 space-y-4 lg:space-y-6">
          <div class="flex items-center justify-center gap-x-2">
            <img
              src="/logomi.svg"
              alt="Miagent Logo"
              class="h-8 w-auto brightness-0 invert"
            />
            <img
              src="/miagent.svg"
              alt="Miagent Logo"
              class="h-8 w-auto brightness-0 invert"
            />
          </div>

          <p class="text-xl font-medium text-gray-300">
            {i18next.t('pricing.footer_banner.description')}
          </p>

          <div class="flex items-center justify-center gap-4">
            <a
              href={baseUrl + "/contact"}
              class="bg-green-400 text-white font-semibold rounded-lg py-2 px-6 hover:bg-green-500 transition"
            >
              {i18next.t('pricing.footer_banner.buttons.consult')}
            </a>
            <a
              href={baseUrl + "/pricing"}
              class="bg-green-400 text-white font-semibold rounded-lg py-2 px-6 hover:bg-green-500 transition"
            >
              {i18next.t('pricing.footer_banner.buttons.pricing')}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
