import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.B5xx_DHV.js";import{A as o,a as d,I as b,B as j,b as v}from"./arrow-up.L81G6gjy.js";import"./index.BqFUye-C.js";const p=[{id:1,type:"customer",content:"Alo",delay:800},{id:2,type:"customer",content:"ÃŠ lÃ´",delay:800},{id:3,type:"customer",content:"Shop Æ¡i",delay:800},{id:4,type:"customer",content:`Cho em há»i cÃ¡i Ã¡o form rá»™ng mÃ u be hÃ´m qua em xem áº¥y
CÃ²n hÃ ng khÃ´ng áº¡?`,delay:1200},{id:5,type:"agent",content:`Dáº¡ em chÃ o chá»‹! ðŸŒ¸

MiAgent vá»«a nháº­n diá»‡n Ä‘Æ°á»£c hÃ¬nh áº£nh vÃ  ná»™i dung chá»‹ mÃ´ táº£ â€” Ã¡o form rá»™ng mÃ u be trong bá»™ sÆ°u táº­p â€œSummer Breezeâ€ Ä‘Ãºng khÃ´ng áº¡?`,delay:2500},{id:6,type:"agent",content:"Máº«u nÃ y hiá»‡n cÃ²n Ä‘áº§y Ä‘á»§ size M, L, cháº¥t váº£i linen cao cáº¥p, thoÃ¡ng mÃ¡t áº¡.",delay:1500},{id:7,type:"customer",content:"ÄÃºng rá»“i Ä‘Ã³, form nÃ y cÃ³ co giÃ£n khÃ´ng em?",delay:2e3},{id:8,type:"agent",content:"Dáº¡, váº£i linen nÃªn khÃ´ng co giÃ£n nhiá»u chá»‹ nhÃ©, nhÆ°ng form rá»™ng nÃªn máº·c váº«n thoáº£i mÃ¡i áº¡.",delay:2e3},{id:9,type:"agent",content:"Náº¿u chá»‹ thÃ­ch dÃ¡ng suÃ´ng nháº¹ hÆ¡n thÃ¬ cÃ³ máº«u *Be Linen Soft*, em gá»­i hÃ¬nh cho chá»‹ xem luÃ´n nha ðŸ’¬",delay:2e3},{id:10,type:"agent",content:"",image:"/XF009.jpg",delay:1e3},{id:11,type:"agent",content:"Máº«u Be Linen Soft â€“ cháº¥t linen má»m hÆ¡n, nháº¹ vÃ  tháº¥m hÃºt tá»‘t hÆ¡n, form suÃ´ng tá»± nhiÃªn ðŸŒ¿",delay:2e3}];function N(){return e.jsxs("div",{className:"flex gap-2 justify-start",children:[e.jsx(o,{className:"h-8 w-8 bg-primary/10 flex-shrink-0",children:e.jsx(d,{className:"bg-primary/10 text-primary text-xs",children:"AI"})}),e.jsxs("div",{className:"bg-gray-200 rounded-lg p-3 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}function T(){const[l,a]=s.useState([]),[m,h]=s.useState(!1),[i,c]=s.useState(0),[r,g]=s.useState(""),u=s.useRef(null),y=()=>{const t=u.current;t&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})};s.useEffect(()=>{y()},[l,m]),s.useEffect(()=>{if(i>=p.length){const n=setTimeout(()=>{a([]),c(0)},3e3);return()=>clearTimeout(n)}const t=p[i],f=setTimeout(()=>{t.type==="agent"?(h(!0),setTimeout(()=>{h(!1),a(n=>[...n,t]),c(n=>n+1)},1500)):(a(n=>[...n,t]),c(n=>n+1))},t.delay);return()=>clearTimeout(f)},[i]);const x=()=>{if(r.trim()){const t={id:Date.now(),type:"customer",content:r};a([...l,t]),g("")}};return e.jsxs("div",{className:"w-full lg:max-w-[300px] h-full max-h-[90vh] lg:h-[520px] bg-white rounded-3xl border-2 shadow-2xs flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b p-4 flex items-center gap-3",children:[e.jsx(o,{className:"h-10 w-10",children:e.jsx(d,{className:"bg-black text-white font-semibold",children:"AI"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-black",children:"AI Agent"}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Äang hoáº¡t Ä‘á»™ng"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 scroll-hide",ref:u,children:[l.map(t=>e.jsxs("div",{className:`flex gap-2 ${t.type==="customer"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:[t.type==="agent"&&e.jsx(o,{className:"h-8 w-8 bg-black/10 flex-shrink-0",children:e.jsx(d,{className:"bg-black/5 text-black text-xs",children:"AI"})}),e.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 text-sm leading-relaxed ${t.type==="customer"?"bg-black text-white":"bg-gray-100 text-black"}`,children:[t.image&&e.jsx("div",{className:"mb-2 rounded overflow-hidden",children:e.jsx("img",{src:t.image||"/placeholder.svg",alt:"Product",className:"w-full h-auto"})}),t.content&&e.jsx("p",{className:"whitespace-pre-line",children:t.content})]})]},t.id)),m&&e.jsx(N,{})]}),e.jsx("div",{className:"border-t p-4 bg-white",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:r,onChange:t=>g(t.target.value),onKeyDown:t=>t.key==="Enter"&&x(),placeholder:"Nháº­p tin nháº¯n...",className:"flex-1"}),e.jsx(j,{size:"icon",onClick:x,className:"bg-black text-white hover:bg-black/90 rounded-full flex-shrink-0",children:e.jsx(v,{className:"h-4 w-4"})})]})})]})}export{T as ChatWidget2};
