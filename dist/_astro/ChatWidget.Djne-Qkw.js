import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.B5xx_DHV.js";import{A as r,a as h,I as b,B as j,b as N}from"./arrow-up.L81G6gjy.js";import"./index.BqFUye-C.js";const x=[{id:1,type:"customer",content:"ChÃ o shop, cho em há»i Ã¡o nÃ y cÃ²n size M khÃ´ng áº¡?",delay:1e3},{id:2,type:"agent",content:"Xin chÃ o báº¡n! ÄÃ¢y lÃ  máº«u VÃ¡y dáº¡ há»™i dÃ i trong bá»™ sÆ°u táº­p má»›i cá»§a shop áº¡.",delay:1500},{id:3,type:"agent",content:"Em xin phÃ©p kiá»ƒm tra tá»“n kho size M cho báº¡n nhÃ©.",delay:1500},{id:4,type:"agent",content:`Dáº¡ vÃ¢ng! VÃ¡y dáº¡ há»™i dÃ i nÃ y hiá»‡n cÃ²n size M áº¡ ðŸŽ‰

Cháº¥t liá»‡u cotton 100%, co giÃ£n thoáº£i mÃ¡i, form dÃ¡ng chuáº©n, ráº¥t phÃ¹ há»£p cho mÃ¹a hÃ¨.
GiÃ¡ gá»‘c 999k, hiá»‡n Ä‘ang giáº£m cÃ²n 839k áº¡.`,delay:2500},{id:5,type:"customer",content:"Váº­y ship vá» HÃ  Ná»™i máº¥t bao lÃ¢u áº¡?",delay:2e3},{id:6,type:"agent",content:`Náº¿u báº¡n á»Ÿ ná»™i thÃ nh HÃ  Ná»™i thÃ¬ giao trong 2â€“3 giá» lÃ  nháº­n Ä‘Æ°á»£c áº¡.
Khu vá»±c ngoáº¡i thÃ nh sáº½ khoáº£ng 1â€“3 ngÃ y, vÃ  miá»…n phÃ­ ship cho Ä‘Æ¡n tá»« 500k trá»Ÿ lÃªn áº¡ ðŸššâœ¨`,delay:2e3},{id:7,type:"customer",content:"Ok, chá»‹ Ä‘áº·t 1 chiáº¿c size M. Giao táº¡i 123 Tráº§n Duy HÆ°ng, Cáº§u Giáº¥y, HÃ  Ná»™i nhÃ©.",delay:2500},{id:8,type:"agent",content:`Dáº¡ vÃ¢ng! Em Ä‘Ã£ ghi nháº­n Ä‘Æ¡n hÃ ng cá»§a chá»‹:

ðŸ‘— VÃ¡y dáº¡ há»™i dÃ i â€“ Size M
ðŸ’° GiÃ¡: 839k (Ä‘Ã£ giáº£m 20%)
ðŸ“ Äá»‹a chá»‰: 123 Tráº§n Duy HÆ°ng, Cáº§u Giáº¥y, HÃ  Ná»™i
ðŸšš Giao hÃ ng: 2â€“3 giá»

Tá»•ng thanh toÃ¡n: 839k + 30k phÃ­ ship = 869k

Chá»‹ vui lÃ²ng giá»¯ mÃ¡y, bÃªn em sáº½ gá»i xÃ¡c nháº­n Ä‘Æ¡n trong 5 phÃºt áº¡! ðŸ’¬`,delay:3e3},{id:9,type:"agent",content:"",image:"/vayden.png",delay:1e3}];function v(){return e.jsxs("div",{className:"flex gap-2 justify-start",children:[e.jsx(r,{className:"h-8 w-8 bg-primary/10 flex-shrink-0",children:e.jsx(h,{className:"bg-primary/10 text-primary text-xs",children:"AI"})}),e.jsxs("div",{className:"bg-gray-200 rounded-lg p-3 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}function M(){const[i,a]=s.useState([]),[d,m]=s.useState(!1),[l,c]=s.useState(0),[o,g]=s.useState(""),u=s.useRef(null),y=()=>{const n=u.current;n&&n.scrollTo({top:n.scrollHeight,behavior:"smooth"})};s.useEffect(()=>{y()},[i,d]),s.useEffect(()=>{if(l>=x.length){const t=setTimeout(()=>{a([]),c(0)},3e3);return()=>clearTimeout(t)}const n=x[l],f=setTimeout(()=>{n.type==="agent"?(m(!0),setTimeout(()=>{m(!1),a(t=>[...t,n]),c(t=>t+1)},1500)):(a(t=>[...t,n]),c(t=>t+1))},n.delay);return()=>clearTimeout(f)},[l]);const p=()=>{if(o.trim()){const n={id:Date.now(),type:"customer",content:o};a([...i,n]),g("")}};return e.jsxs("div",{className:"w-full lg:max-w-[300px] h-full max-h-[90vh] lg:h-[520px] bg-white rounded-3xl border-2 shadow-2xs flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b p-4 flex items-center gap-3",children:[e.jsx(r,{className:"h-10 w-10",children:e.jsx(h,{className:"bg-black text-white font-semibold",children:"AI"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-black",children:"AI Agent"}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Äang hoáº¡t Ä‘á»™ng"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 scroll-hide",ref:u,children:[i.map(n=>e.jsxs("div",{className:`flex gap-2 ${n.type==="customer"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:[n.type==="agent"&&e.jsx(r,{className:"h-8 w-8 bg-black/10 flex-shrink-0",children:e.jsx(h,{className:"bg-black/5 text-black text-xs",children:"AI"})}),e.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 text-sm leading-relaxed ${n.type==="customer"?"bg-black text-white":"bg-gray-100 text-black"}`,children:[n.image&&e.jsx("div",{className:"mb-2 rounded overflow-hidden",children:e.jsx("img",{src:n.image||"/placeholder.svg",alt:"Product",className:"w-full h-auto"})}),n.content&&e.jsx("p",{className:"whitespace-pre-line",children:n.content})]})]},n.id)),d&&e.jsx(v,{})]}),e.jsx("div",{className:"border-t p-4 bg-white",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:o,onChange:n=>g(n.target.value),onKeyDown:n=>n.key==="Enter"&&p(),placeholder:"Nháº­p tin nháº¯n...",className:"flex-1"}),e.jsx(j,{size:"icon",onClick:p,className:"bg-black text-white hover:bg-black/90 rounded-full flex-shrink-0",children:e.jsx(N,{className:"h-4 w-4"})})]})})]})}export{M as ChatWidget};
