import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.B5xx_DHV.js";import{A as o,a as h,I as b,B as j,b as N}from"./arrow-up.L81G6gjy.js";import"./index.BqFUye-C.js";const p=[{id:1,type:"customer",content:"Shop Æ¡i, Ã¡o thun tráº¯ng basic size M cÃ²n bao nhiÃªu cÃ¡i trong kho váº­y áº¡?",delay:1200},{id:2,type:"agent",content:"Em kiá»ƒm tra realtime trÃªn há»‡ thá»‘ng CRM cho chá»‹ nhÃ© ðŸ•",delay:1500},{id:3,type:"agent",content:"Hiá»‡n shop cÃ²n 12 chiáº¿c size M, vÃ  Ä‘ang cÃ³ chÆ°Æ¡ng trÃ¬nh *mua 2 táº·ng 1* Ã¡p dá»¥ng Ä‘áº¿n háº¿t hÃ´m nay áº¡ ðŸŽ‰",delay:2e3},{id:4,type:"customer",content:"Tá»‘t quÃ¡! Váº­y chá»‹ láº¥y 2 chiáº¿c nhÃ©, Ä‘á»ƒ Ä‘Æ°á»£c táº·ng thÃªm 1 chiáº¿c Ä‘Ãºng khÃ´ng?",delay:2e3},{id:5,type:"agent",content:`Dáº¡ Ä‘Ãºng rá»“i áº¡ ðŸ’–

MiAgent Ä‘Ã£ táº¡o Ä‘Æ¡n hÃ ng táº¡m cho chá»‹:

ðŸ“¦ Ão thun tráº¯ng basic â€“ Size M (2 táº·ng 1)
ðŸ’° GiÃ¡: 239k/chiáº¿c â†’ Tá»•ng 478k, táº·ng thÃªm 1 chiáº¿c miá»…n phÃ­
ðŸšš Giao hÃ ng: 2â€“3 giá» táº¡i 123 Tráº§n Duy HÆ°ng, Cáº§u Giáº¥y, HN

Chá»‹ cÃ³ muá»‘n xÃ¡c nháº­n Ä‘Æ¡n ngay Ä‘á»ƒ em gá»­i qua há»‡ thá»‘ng ERP xá»­ lÃ½ luÃ´n khÃ´ng áº¡?`,image:"/XF003.jpg",delay:3e3},{id:6,type:"customer",content:"Ok, xÃ¡c nháº­n giÃºp chá»‹ nhÃ©.",delay:2e3},{id:7,type:"agent",content:`Dáº¡ vÃ¢ng! âœ…

Em vá»«a Ä‘áº©y Ä‘Æ¡n hÃ ng lÃªn há»‡ thá»‘ng ERP â€” mÃ£ Ä‘Æ¡n lÃ  *#DH10254*.
TÃ¬nh tráº¡ng hiá»‡n táº¡i: **Äang chá» xÃ¡c nháº­n kho**.

Chá»‹ cÃ³ thá»ƒ theo dÃµi realtime tráº¡ng thÃ¡i Ä‘Æ¡n nÃ y trá»±c tiáº¿p ngay táº¡i Ä‘Ã¢y hoáº·c trong app cá»§a shop nhÃ© ðŸ“²`,delay:3e3}];function v(){return e.jsxs("div",{className:"flex gap-2 justify-start",children:[e.jsx(o,{className:"h-8 w-8 bg-primary/10 flex-shrink-0",children:e.jsx(h,{className:"bg-primary/10 text-primary text-xs",children:"AI"})}),e.jsxs("div",{className:"bg-gray-200 rounded-lg p-3 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}function A(){const[i,a]=s.useState([]),[d,g]=s.useState(!1),[c,l]=s.useState(0),[r,m]=s.useState(""),u=s.useRef(null),y=()=>{const t=u.current;t&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"})};s.useEffect(()=>{y()},[i,d]),s.useEffect(()=>{if(c>=p.length){const n=setTimeout(()=>{a([]),l(0)},3e3);return()=>clearTimeout(n)}const t=p[c],f=setTimeout(()=>{t.type==="agent"?(g(!0),setTimeout(()=>{g(!1),a(n=>[...n,t]),l(n=>n+1)},1500)):(a(n=>[...n,t]),l(n=>n+1))},t.delay);return()=>clearTimeout(f)},[c]);const x=()=>{if(r.trim()){const t={id:Date.now(),type:"customer",content:r};a([...i,t]),m("")}};return e.jsxs("div",{className:"w-full lg:max-w-[300px] h-full max-h-[90vh] lg:h-[520px] bg-white rounded-3xl border-2 shadow-2xs flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b p-4 flex items-center gap-3",children:[e.jsx(o,{className:"h-10 w-10",children:e.jsx(h,{className:"bg-black text-white font-semibold",children:"AI"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-black",children:"AI Agent"}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"Äang hoáº¡t Ä‘á»™ng"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 scroll-hide",ref:u,children:[i.map(t=>e.jsxs("div",{className:`flex gap-2 ${t.type==="customer"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:[t.type==="agent"&&e.jsx(o,{className:"h-8 w-8 bg-black/10 flex-shrink-0",children:e.jsx(h,{className:"bg-black/5 text-black text-xs",children:"AI"})}),e.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 text-sm leading-relaxed ${t.type==="customer"?"bg-black text-white":"bg-gray-100 text-black"}`,children:[t.image&&e.jsx("div",{className:"mb-2 rounded overflow-hidden",children:e.jsx("img",{src:t.image||"/placeholder.svg",alt:"Product",className:"w-full h-auto"})}),t.content&&e.jsx("p",{className:"whitespace-pre-line",children:t.content})]})]},t.id)),d&&e.jsx(v,{})]}),e.jsx("div",{className:"border-t p-4 bg-white",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:r,onChange:t=>m(t.target.value),onKeyDown:t=>t.key==="Enter"&&x(),placeholder:"Nháº­p tin nháº¯n...",className:"flex-1"}),e.jsx(j,{size:"icon",onClick:x,className:"bg-black text-white hover:bg-black/90 rounded-full flex-shrink-0",children:e.jsx(N,{className:"h-4 w-4"})})]})})]})}export{A as ChatWidget3};
